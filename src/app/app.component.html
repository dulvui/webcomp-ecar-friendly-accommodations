
<div id="main-container">

    <div id="settings">

        <div>
            <label id="distance-label" for="distance">Distance to nearest E-charging station</label>
            <span class="distance-span">0 m </span>
            <input type="range" id="distance-input" name="distance"
                min="0" max="10000" [(ngModel)]="distanceTillEChargingStation">
            <span class="distance-span">10 km</span>
            <div id ="distance-counter">
                Distance: <span class="italic">{{distanceTillEChargingStation | distance}}</span>
            </div>
        </div>

        <div class="settings-spacing">
            <mat-form-field appearance="legacy">
                <mat-label>Accommodation Type</mat-label>
                <mat-select [formControl]="accommodationTypesSelected" multiple>
                    <mat-option *ngFor="let acc of accommodations" [value]="acc">{{acc}}</mat-option>
                </mat-select>
                </mat-form-field>
        </div>

        <div class="settings-spacing">
            <mat-form-field id="language-field" appearance="legacy">
                <mat-label><img [src]="selected.img" width="20px" height="20px"></mat-label>
                <mat-select [(value)]="selected"  [formControl]="languageSelected">
                    <mat-option  *ngFor="let lan of languages" [value]="lan"><img [src]="lan.img" width="20px" height="20px"> {{lan.value}}</mat-option>
                </mat-select>
                </mat-form-field>
        </div>

        <div class="settings-spacing" id="settings-button">
            <button (click)="onFilterApplied()" mat-flat-button color="primary">APPLY</button>
        </div>
    </div>

    <div id="map" class="map"></div>

    <div #banner class="popover">
        <h3>{{name}}</h3>
        <h5>Accommodation</h5>
        <div class="popover-tag-container">
            <span class="popup-tag accommodation-tag">{{accType}}</span>
            <span class="popup-tag accommodation-tag">{{all?.AccoCategory?.Id}}</span>
            <span class="popup-tag accommodation-tag">{{all?.Altitude}} m</span>
        </div>
        <div><img src="assets/website.svg" width="20px" height="20px"><a [href]="link" target="_blank"> Website</a></div>
        <div><img src="assets/telephone.svg" width="20px" height="20px">{{phone}}</div>
        <div><img src="assets/pin.svg" width="20px" height="20px">{{all?.AccoDetail?.en?.Street}}, {{all?.AccoDetail?.en?.City}}</div>

        <h6 id="stations-nearby-title">Stations nearby</h6>
        <tr *ngFor="let station of nearbyStations">
            <td>{{station.station.item.name}} <span class="italic">({{station.distance | distance}} away)</span></td>
        </tr>
    </div>

    <div #ebanner class="popover">
        <h3>{{name}}</h3>
        <h5>{{type}}</h5>
        <div class="popover-tag-container">
            <span class="popup-tag echarger-tag">{{accessType}}</span>
            <span class="popup-tag echarger-tag">{{reservable ? 'Reservable' : 'Not Reservable'}}</span>
            <span class="popup-tag echarger-tag">{{capacity}} {{capacity == '1' ? 'outlet' : 'outlets'}}</span>
        </div>
        <div><img src="assets/cash.svg" width="20px" height="20px"><a [href]="paymentInfo" target="_blank"> Payment Info</a></div>

        <div><img src="assets/pin.svg" width="20px" height="20px">{{address}}</div>
        <p>{{city}}</p>
    
        <div *ngIf="plugInfo">
            <div *ngFor="let plug of plugInfo.data">
                <div class="station-nearby" *ngIf="plug.smetadata.outlets[0] as outlet">
                    <div class="bold">{{outlet.id}}. {{outlet.outletTypeCode}}</div>
                    <div> Max Power: {{outlet.maxPower}} kWh, Current: {{outlet.minCurrent}} - {{outlet.maxCurrent}} A</div>
                </div>
            </div>
        </div>
    </div>

</div>



